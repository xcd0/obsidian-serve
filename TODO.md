# TODO

## 実装済み機能

### Phase 1: 基本機能 ✅
- [x] プロジェクト構造の作成
- [x] プラグイン基本骨格
  - [x] main.ts (メインプラグインクラス)
  - [x] settings.ts (タブ付き設定画面)
  - [x] types.ts (型定義)
  - [x] github-actions-setup.ts (ワークフロー生成)
- [x] ビルド環境構築
  - [x] esbuild.config.mjs
  - [x] version-bump.mjs
  - [x] .gitignore
- [x] 設定画面実装
  - [x] タブ付きUI（基本設定、Quartz設定、機能設定、管理）
  - [x] GitHub認証設定
  - [x] リポジトリ設定フォーム
  - [x] 公開ディレクトリ設定
- [x] GitHub Actions連携
  - [x] ワークフローファイル自動生成
  - [x] セットアップ状態の検証
  - [x] 自動セットアップ機能

### Phase 2: Quartz統合 ✅
- [x] Quartzの自動セットアップ
  - [x] GitHubからQuartzをclone
  - [x] 必要なファイルのコピー
  - [x] npm installの自動実行
  - [x] デフォルト設定の使用
- [x] ビルドプロセス
  - [x] Markdownファイルのコピー
  - [x] npx quartz buildの実行
  - [x] 公開用リポジトリへのpush
- [x] YAML構文エラーの解消
  - [x] dateコマンドの修正
  - [x] PUBLISH_TOKEN検証

### ドキュメント ✅
- [x] README.md (初期設定ガイド、使い方)
- [x] QUARTZ_SETUP.md (自動セットアップの説明)
- [x] SPEC.md
- [x] TODO.md

## 今後の改善点

### 機能追加
- [ ] 除外パターンの実装
  - [ ] フロントマターのpublished: false対応
  - [ ] 除外パターン設定の実装
- [ ] obsidian-gitとの連携改善
  - [ ] 自動commit & push機能の安定化（現在は保留）
  - [ ] コマンド実行の改善
- [ ] エラーハンドリング強化
  - [ ] より詳細なエラーメッセージ
  - [ ] リカバリー提案

### UI/UX改善
- [ ] プログレス表示
  - [ ] セットアップ進行状況
  - [ ] ビルド状況の確認
- [ ] 設定の検証
  - [ ] リポジトリ存在確認
  - [ ] Personal Access Token検証
- [ ] プレビュー機能
  - [ ] ローカルプレビュー（Quartzのdev server）

### パフォーマンス
- [ ] 差分ビルド
  - [ ] 変更されたファイルのみコピー
  - [ ] ビルドキャッシュ
- [ ] ワークフロー最適化
  - [ ] Quartzのキャッシュ活用
  - [ ] 依存関係のキャッシュ

### テスト・品質
- [ ] ユニットテスト作成
- [ ] 統合テスト
- [ ] エッジケースのテスト
  - [ ] 大量ファイル
  - [ ] 特殊文字を含むファイル名
  - [ ] 画像・添付ファイルの処理

### ドキュメント
- [ ] スクリーンショット追加
- [ ] ビデオチュートリアル
- [ ] トラブルシューティングの充実
- [ ] FAQセクション

### コミュニティプラグイン化
- [ ] プラグインの安定化
- [ ] 複数環境でのテスト
- [ ] コミュニティプラグイン申請準備
- [ ] リリースノート作成

## 既知の問題

### 現在の制約
- **obsidian-git依存**: commit & push機能はobsidian-gitに依存（プラグイン内での実装は不安定なため保留）
- **Quartzカスタマイズ**: プラグインからのカスタマイズは未実装（公開用リポジトリで直接編集が必要）

### 解決済み
- ~~YAMLシンタックスエラー~~ → シンプルな構造に変更して解決
- ~~Quartzのnpmパッケージエラー~~ → GitHubからcloneする方式に変更
- ~~dateコマンドのエラー~~ → 引用符を正しく使用
- ~~PUBLISH_TOKEN認証エラー~~ → 検証ロジック追加
- ~~public/ディレクトリのデプロイ問題~~ → public/の中身をルートに移動するステップを追加

## 優先度

### 高優先度
1. 除外パターンの実装（フロントマター対応）
2. エラーメッセージの改善
3. ドキュメントの充実

### 中優先度
1. プログレス表示
2. 設定の検証機能
3. パフォーマンス改善

### 低優先度
1. ローカルプレビュー
2. obsidian-git連携の再検討
3. カスタムテーマサポート
